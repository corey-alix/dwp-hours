# Get current branch name
branch=$(git rev-parse --abbrev-ref HEAD)

echo "ğŸ” Pre-commit hook running on branch: $branch"

echo "ğŸ“ Running format and lint checks..."
npx lint-staged
pnpm lint
pnpm build

if [ "$branch" = "main" ]; then
    echo "ğŸ—ï¸  On main branch - running full test suite..."
    pnpm test
else
    echo "âœ… Lightweight checks completed for feature branch ($branch)"
fi
