#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Get current branch name
branch=$(git rev-parse --abbrev-ref HEAD)

echo "ğŸ” Pre-commit hook running on branch: $branch"

if [ "$branch" = "main" ]; then
    echo "ğŸ—ï¸  On main branch - running full test suite..."
    pnpm test
else
    echo "âš¡ On feature branch ($branch) - running lightweight checks..."
    pnpm lint
fi
